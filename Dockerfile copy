FROM node:18-alpine
# FROM node:18-alpine

# Create app directory
WORKDIR /usr/src/app

COPY package.json /usr/src/app/
COPY yarn.lock /usr/src/app/
COPY tsconfig.json /usr/src/app/
COPY . .

RUN yarn
RUN yarn install
RUN yarn build

EXPOSE 3000
EXPOSE 80
CMD ["yarn", "start"] 